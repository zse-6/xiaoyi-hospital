<!-- miniprogram/pages/login/login.wxml -->
<view class="login-container">
  <view class="login-header">
    <image src="/images/logo.png" class="logo" />
    <text class="app-name">咪医导诊分诊</text>
    <text class="app-desc">智能医疗分诊导诊系统</text>
  </view>

  <view class="login-form">
    <view class="form-item">
      <text class="label">手机号</text>
      <input 
        type="number" 
        placeholder="请输入手机号码" 
        maxlength="11"
        value="{{phone}}"
        bindinput="onPhoneInput"
      />
    </view>

    <view class="form-item">
      <text class="label">验证码</text>
      <view class="code-input">
        <input 
          type="number" 
          placeholder="请输入验证码" 
          maxlength="6"
          value="{{code}}"
          bindinput="onCodeInput"
        />
        <button 
          class="get-code-btn {{countdown > 0 ? 'disabled' : ''}}"
          bindtap="getCode"
          disabled="{{countdown > 0}}"
        >
          {{countdown > 0 ? countdown + 's后重试' : '获取验证码'}}
        </button>
      </view>
    </view>

    <button class="login-btn" bindtap="login">登录 / 注册</button>

    <view class="login-tips">
      <text>登录即代表同意</text>
      <text class="link">《用户协议》</text>
      <text>和</text>
      <text class="link">《隐私政策》</text>
    </view>
  </view>

  <view class="other-login">
    <view class="divider">
      <view class="line"></view>
      <text class="text">其他登录方式</text>
      <view class="line"></view>
    </view>
    
    <view class="login-methods">
      <button class="method-item" open-type="getPhoneNumber" bindgetphonenumber="onGetPhoneNumber">
        <image src="/images/wechat-icon.png" />
        <text>微信一键登录</text>
      </button>
    </view>
  </view>
</view>